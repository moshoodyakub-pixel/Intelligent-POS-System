# Frontend Security Audit — 2025-11-23

Summary
- Owner: moshoodyakub-pixel
- Scope: frontend/ (React app using react-scripts)
- Tools: npm audit (npm v10)
- Date: 2025-11-23

What was done
- Performed dependency triage to address transitive vulnerabilities reported by `npm audit`.
- Applied targeted overrides for `nth-check` and `postcss` to resolve high-severity advisories originating from SVGO/resolve-url-loader chains.
- Upgraded `react-scripts` to the latest version and tested build/dev server.
- Attempted an override of `webpack-dev-server` to a patched v5, but this caused an incompatible dev-server configuration with `react-scripts` (invalid options object). The override was reverted.

Current status (final)
- High-severity advisories: resolved.
- Remaining advisories: 3 moderate-severity items tied to the development server stack:
  - `webpack-dev-server` (moderate)
  - `@pmmmwh/react-refresh-webpack-plugin` (moderate)
  - `react-scripts` (moderate) — via `webpack-dev-server`
- These advisories are development-time only (dev server / HMR). They do not affect the production bundle shipped to users.

Why we are not forcing fixes now
- Forcing a patched `webpack-dev-server` (v5) broke compatibility with `react-scripts`'s dev-server configuration (react-scripts currently expects the v4 API). That causes runtime dev-server crashes (unknown option schema) and is disruptive for development.
- Upgrading `react-scripts` to the latest was attempted and the app builds and runs, but the react-scripts release available at the time still pulls versions that produce the moderate audit findings. Upstream fixes are required in react-scripts or the refresh plugin for a fully clean audit.

Risk assessment
- The remaining advisories concern the dev server and HMR tooling. The attack surface is limited to developer machines and environments where the dev server is exposed.
- Production builds (bundles served to users) are not affected by these advisories.

Short-term mitigations (applied / recommended)
- Do NOT expose the dev server to public networks. Run it on localhost only.
- Never run `npm start` on publicly routable infrastructure.
- Ensure CI only runs builds/tests (no open dev server). CI should use `npm run build` and headless test runners.
- Continue to require PRs to run `npm run build` and smoke-test locally.
- Keep `nth-check` and `postcss` overrides in package.json until upstream releases fix the vulnerabilities.

Follow-up plan and timeline
- Create a tracking issue: "Audit triage: Resolve remaining dev-time moderate advisories (webpack-dev-server/react-refresh)" and link to this file.
- Monitor react-scripts releases for a transitive fix. Weekly check for updates for the next 30 days.
- Once react-scripts upgrades to a version that depends on a patched webpack-dev-server / refresh plugin, test upgrade in a branch and merge.
- If upstream fixes are delayed >30 days, re-evaluate whether a carefully tested override or migration away from react-scripts (e.g., to Vite) is warranted.

References
- npm audit output (attached as part of the PR or in linked CI artifacts)
- Advisory links in original npm audit JSON (GHSA advisories for webpack-dev-server and others)

Contact
- If you need help testing an upgrade or creating the PR to document this, contact: moshoodyakub-pixel
